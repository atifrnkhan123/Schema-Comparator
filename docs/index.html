<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Schema Comparator</title>
    <link rel="icon" type="image/png" href="Schemalogo.png">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.4.0/jspdf.umd.min.js"></script>
    <link rel="stylesheet" href="style.css">
</head>
<body>
<label class="cosmic-toggle">
    <input class="toggle" type="checkbox" id="themeToggle" onchange="toggleTheme()"/>
    <div class="slider">
        <div class="cosmos"></div>
        <div class="energy-line"></div>
        <div class="energy-line"></div>
        <div class="energy-line"></div>
        <div class="toggle-orb">
            <div class="inner-orb"></div>
            <div class="ring"></div>
        </div>
        <div class="particles">
            <div style="--angle: 30deg" class="particle"></div>
            <div style="--angle: 60deg" class="particle"></div>
            <div style="--angle: 90deg" class="particle"></div>
            <div style="--angle: 120deg" class="particle"></div>
            <div style="--angle: 150deg" class="particle"></div>
            <div style="--angle: 180deg" class="particle"></div>
        </div>
    </div>
</label>
<div class="container">
    <h1>
        <i class="fas fa-balance-scale"></i> Schema Comparator</h1>
    <div class="editor-container">
        <div class="schema-box">
            <h2><i class="fas fa-code"></i> Actual Response</h2>
            <textarea id="actual"
                      placeholder="Paste your Actual JSON here...&#10;Example:&#10;{&#10;&nbsp;&nbsp;&nbsp;&nbsp;&quot;id&quot;: 1,&#10;&nbsp;&nbsp;&nbsp;&nbsp;&quot;name&quot;: &quot;Example&quot;&#10;}"></textarea>
            <button class="pretty-btn" onclick="prettyPrint('actual')">
                <i class="fas fa-pretty-print"></i> Pretty Print
            </button>
            <p>Note*:Paste your Actual API JSON response here. It will auto-convert to a schema definition when you
                click "Compare Schema" button. A download button will appear for the generated schema.
            </p></div>
        <div class="schema-box">
            <h2><i class="fas fa-file-code"></i> Expected Schema</h2>
            <textarea id="expected"
                      placeholder="Paste your Expected API JSON here...&#10;Example:&#10;{&#10;&nbsp;&nbsp;&nbsp;&nbsp;&quot;id&quot;: 1,&#10;&nbsp;&nbsp;&nbsp;&nbsp;&quot;name&quot;: &quot;Example&quot;&#10;}"></textarea>
            <button class="pretty-btn" onclick="prettyPrint('expected')">
                <i class="fas fa-pretty-print"></i> Pretty Print
            </button>
            <p>Note*:Paste your Expected API JSON response here. It will auto-convert to a schema definition when you
                click "Compare Schema" button. A download button will appear for the generated schema.

            <div id="expectedDownload" class="download-container"></div>
        </div>

        <div class="button-group">
            <button class="compare-btn" onclick="compareSchemas()">
                <i class="fas fa-play"></i> Compare Schemas
            </button>
            <button class="reset-btn" onclick="resetFields()">
                <i class="fas fa-redo"></i> Reset
            </button>
            <label class="checkbox-label">
                <input type="checkbox" id="checkValues"> Compare Values
            </label>
        </div>

        <div class="results" id="results" style="display: none;">
            <h2>Comparison Results</h2>
            <div id="summary" class="summary-grid"></div>
            <table id="resultsTable">
                <thead>
                <tr>
                    <th>Field Path</th>
                    <th>Expected</th>
                    <th>Actual</th>
                    <th>Status</th>
                </tr>
                </thead>
                <tbody id="resultsBody"></tbody>
            </table>
            <div class="download-container">
                <button id="downloadResultsJSON" class="download-btn" onclick="downloadComparisonResultsJSON()">
                    <i class="fas fa-file-download"></i> Download JSON
                </button>
                <button id="downloadResultsCSV" class="download-btn" onclick="downloadComparisonResultsCSV()">
                    <i class="fas fa-file-csv"></i> Download CSV
                </button>
                <button id="downloadResultsPDF" class="download-btn" onclick="downloadComparisonResultsPDF()">
                    <i class="fas fa-file-pdf"></i> Download PDF
                </button>
            </div>
        </div>

        <!-- After -->
    </div>
    <footer class="max-w-8xl mx-auto px-4 sm:px-6 lg:px-8 py-4 mt-8 border-t border-gray-200">
        <div class="flex justify-between items-center">
            <div class="developer-credit">
                Developed By: Mohammad Atif Khan
                <a href="https://www.linkedin.com/in/mohammad-atif-khan/" target="_blank" class="linkedin-link">
                    <i class="fab fa-linkedin"></i>
                </a>
            </div>
            <div class="feedback-link" style="position: absolute; right: 20px; bottom: 20px;">
                <a href="https://forms.gle/Lt5ru3zeLgLoGfAF8" target="_blank"
                   class="inline-flex items-center px-4 py-2 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50">
                    <i class="fas fa-comment-alt mr-2"></i> Feedback
                </a>
            </div>
        </div>
    </footer>

    <script src="script.js"></script>
</body>
</html>